<div class="start-screen">
  <div class="container">
    <h1 class="title">Bowling Score App</h1>
    <p class="subtitle">{{ subtitleText() }}</p>

    <div class="mode-toggle">
      <button
        type="button"
        [class.active]="isNewGame()"
        (click)="toggleGameMode(true)"
      >
        New Game
      </button>
      <button
        type="button"
        [class.active]="!isNewGame()"
        (click)="toggleGameMode(false)"
      >
        Continue Game
      </button>
    </div>

    <form
      [formGroup]="playerForm"
      (ngSubmit)="onSubmit()"
      class="player-form"
      novalidate
    >
      <div class="form-group">
        @let ctrl = identifierControl; @let msg = validationMessage(); @let
        isInvalid = ctrl?.invalid && ctrl?.touched;
        <input
          id="identifier"
          type="text"
          formControlName="identifier"
          [placeholder]="placeholderText()"
          class="player-input"
          [class.error]="isInvalid || (errorMessage() && !ctrl?.dirty)"
          [attr.aria-invalid]="isInvalid"
        />
        @if (msg) {
        <div class="error-message" role="alert">
          {{ msg }}
        </div>
        }
      </div>

      <div class="actions">
        <button
          type="submit"
          class="start-button"
          [disabled]="playerForm.invalid || isLoading()"
        >
          {{ submitButtonText() }}
        </button>

        <button
          type="button"
          class="secondary-button"
          (click)="onShowHighscores()"
        >
          View Highscores
        </button>
      </div>
    </form>
  </div>
</div>
